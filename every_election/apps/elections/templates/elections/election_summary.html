

<div class="ds-card">
    <div class="ds-card-body">
        <h1>
            {% firstof object.election_title object.election_id %}
        </h1>

        <aside class="ds-status" aria-label="Status">
            <ul class="ds-stack">
                {% if object.cancelled %}
                    <li class="ds-status-message">Cancelled</li>
                {% endif %}
            </ul>
        </aside>

        {% if object.election_subtype %}
            <h3>{{ object.election_subtype }}</h3>
        {% endif %}

        {% if object.geography %}
            {% include "core/detail_map.html" with org_common_name=object.organisation.common_name dl_title=object.election_title%}
        {% endif %}

        <dl class="ds-descriptions">
            <div>
                <dt>ID</dt>
                <dd>{{ object.election_id }}</dd>
            </div>
            <div>
                <dt>Type</dt>
                <dd>{{ object.election_type }}</dd>
            </div>
            <div>
                <dt>Date</dt>
                <dd>{{ object.poll_open_date }}</dd>
            </div>

            {% if object.organisation %}
                <div>
                    <dt>Organisation</dt>
                    <dd><a href="{{ object.organisation.get_absolute_url }}">
                        {{ object.organisation }}</a></dd>
                </div>
            {% endif %}

            {% if object.division %}
                <div>
                    <dt>Division</dt>
                    <dd>{{ geography_html }}</dd>
                </div>
            {% endif %}

            {% if object.identifier_type == "organisation" or object.identifier_type == "ballot" %}
                {% if object.voting_system %}
                    <div>
                        <dt>Voting system</dt>
                        <dd>{{ object.voting_system }}</dd>
                    </div>
                {% endif %}
                {# Only do this for non-group IDs #}
            {% endif %}

            {% if object.group_type %}
                <div>
                    <dt
                        title="Total number of seats contested across all non-cancelled ballots in this group"
                    >Seats Contested</dt>
                    <dd>{{ object.group_seats_contested }}</dd>
                </div>
                {% if object.group_seats_cancelled %}
                    <div>
                        <dt
                            title="Total number of seats that would have been contested across all cancelled ballots in this group"
                        >Seats Cancelled</dt>
                        <dd>{{ object.group_seats_cancelled }}</dd>
                    </div>
                {% endif %}
            {% else %}
                {% if object.seats_total is not None and object.seats_contested is not None %}
                    <div>
                        <dt
                            title="The total number of seats in this division"
                        >Total Seats</dt><dd>{{ object.seats_total }}</dd>
                    </div>
                    {% if object.cancelled %}
                        <div>
                            <dt
                                title="Number of seats that would have been contested in this ballot, were it not cancelled"
                            >Seats Cancelled</dt><dd>{{ object.group_seats_cancelled }}</dd>
                        </div>
                    {% else %}
                        <div>
                            <dt
                                title="Number of seats contested in this ballot"
                            >Seats Contested</dt><dd>{{ object.group_seats_contested }}</dd>
                        </div>
                    {% endif %}
                {% endif %}
            {% endif %}

            {% if document %}
                {% include './official_document.html' with document=document type=document_type only %}
            {% endif %}

            {% if request.user.is_superuser %}
                <div>
                    <a href="{{ object.get_admin_url }}" class="button" title="Edit in admin">Edit in admin</a>
                </div>
            {% endif %}

        </dl>

        {% if not object.notice and not object.group.notice and user_can_upload_docs and not object.cancelled %}
            <hr />
            {% include "./election_form.html" %}
        {% endif %}
    </div>
</div>
